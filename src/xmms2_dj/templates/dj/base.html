<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<title>XMMS2 DJ</title>
		<!-- (de) FÃ¼gen Sie hier Ihre Meta-Daten ein -->

		<link href="{{ MEDIA_URL }}css/layout.css" rel="stylesheet" type="text/css"/>
		<!--[if lte IE 7]>
		<link href="{{ MEDIA_URL }}css/patches/patch_layout_draft.css" rel="stylesheet" type="text/css" />
		<![endif]-->

		<script type="text/javascript" src="{{ MEDIA_URL }}js/mootools-1.2.4-core-yc.js"></script>
		<script type="text/javascript">

function refresh() {
	updateStatus('{% url dj_status %}');
}

window.addEvent('domready', function() {
	var periodical;
	periodical = refresh.periodical(1500, this);
});


function updateStatus(url) {
	var req = new Request.HTML({
		url: url,
		onSuccess: function(html) {
			$('player_status').set('text', '');
			$('player_status').adopt(html);
		},
		onFailure: function() {
			$('player_status').set('text', 'The request failed.');
		}
	});

	req.send();
}

function getPlaylist(url) {
	var req = new Request.HTML({
	url: url,
	onSuccess: function(html) {
		$('col3_content').set('text', '');
		$('col3_content').adopt(html);
	},
	onFailure: function() {
		$('col3_content').set('text', 'The request failed.');
	}
	});

	req.send();
}

function getTitles (url) {
	var req = new Request.HTML({
		url: url,
		onSuccess: function(html) {
			$('col4_content').set('text', '');
			$('col4_content').adopt(html);
		},
		onFailure: function() {
			$('col4_content').set('text', 'Request failed.');
		}
	});

	req.send();
}


function getAlbum (url) {
	var req = new Request.HTML({
	url: url,
	onSuccess: function(html) {
		$('col2_content').set('text', '');
		$('col2_content').adopt(html);
	},
	onFailure: function() {
		$('col2_content').set('text', 'The request failed.');
	}
	});

	req.send();
}

		</script>
	</head>
	<body>
		<!-- skip link navigation -->
		<ul id="skiplinks">
			<li><a class="skip" href="#nav">Skip to navigation (Press Enter).</a></li>
			<li><a class="skip" href="#col3">Skip to main content (Press Enter).</a></li>
		</ul>

		<div class="page_margins">
			<div class="page">
				<div id="header" role="banner">
					<div id="topnav" role="contentinfo">
						<span>#topnav is here</span>
					</div>
					<h1>XMMS2 DJ</h1>

					<div id="player_controls">
						{% block player_controls %}
						{% endblock %}
					</div>
				</div>

				<!-- begin: main navigation #nav -->
				<div id="nav" role="navigation">
					<div class="hlist">
						<ul>
						</ul>
					</div>
				</div>
				
				<!-- end: main navigation -->
				<!-- begin: content area #main -->
				<div id="main">

					<!-- begin: #col1 - first float column -->
					<div id="col1" role="complementary">
						<div id="col1_content" class="clearfix">
							{% block artists %}
							{% endblock %}
					        </div>
					</div>
					<!-- end: #col1 -->

					<!-- begin: #col2 second float column -->
					<div id="col2" role="complementary">
						<div id="col2_content" class="clearfix">
							{% block albums %}
							{% endblock %}
						</div>
					</div>
					<!-- end: #col2 -->

					<div id="col4" role="complementary">
						<div id="col4_content" class="clearfix">
							{% block titles %}
							{% endblock %}
						</div>
					</div>

					<!-- begin: #col3 static column -->
					<div id="col3" role="main">
						<div id="col3_content" class="clearfix"> 
							{% block base %}
							{% endblock %}
						</div>
						<!-- IE column clearing -->
						<div id="ie_clearing">&nbsp;</div>
					</div>
					<!-- end: #col3 -->

				</div>
				<!-- end: #main -->

				<!-- begin: #footer -->
				<div id="footer" role="contentinfo">Layout based on <a href="http://www.yaml.de/">YAML</a></div>
				<!-- end: #footer -->

			</div>
		</div>
		<!-- full skiplink functionality in webkit browsers -->
		<script src="{{ MEDIA_URL }}/yaml/core/js/webkit-focusfix.js" type="text/javascript"></script>
	</body>
</html>
